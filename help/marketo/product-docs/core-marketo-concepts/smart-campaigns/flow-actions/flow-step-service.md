---
description: 流程步驟服務 — Marketo文檔 — 產品文檔
title: 流步驟服務
exl-id: 81367562-8b27-4ec5-8a9b-b02083a2e999
source-git-commit: a24b0de6493d4849723099d6164fafb73ef7c926
workflow-type: tm+mt
source-wordcount: '0'
ht-degree: 0%

---

# 流步驟服務 {#flow-step-service}

>[!NOTE]
>
>自助服務流步驟當前處於開放測試版中。 您可以在「管理員」>「財寶箱」菜單中為訂閱啟用它。

自助流步驟是一個框架和一組功能，用於創作、發佈和將Web服務整合到AdobeMarketo Engage智慧市場活動中。 本指南適用於Marketo Engage希望安裝和使用已建立和發佈的服務的最終用戶。 有關創作和發佈您自己的服務的資訊，請參閱 [服務提供商介面的GitHub儲存庫](https://github.com/adobe/Marketo-SSFS-Service-Provider-Interface){target=&quot;_blank&quot;}。 可以找到概念驗證查找表實現 [這裡](https://github.com/adobe/mkto-flow-lookup){target=&quot;_blank&quot;}。

## 預發佈限制和警告 {#pre-release-restrictions-and-warnings}

此功能當前處於開放測試版中，只應用於Marketo Engage的沙盒實例，直到您的服務經過完全測試。

## 登記和管理服務 {#onboarding-and-managing-services}

安裝自定義流步驟需要在Marketo(**管理Webhooks** 在1月21日的發行版中，在3月11日的發行版中更改)。 除安裝URL外，在完成初始登錄後，可以通過從服務提供商網格向下鑽取到服務詳細資訊螢幕來編輯服務的所有其它方面。

## 安裝URL {#installation-url}

要開始安裝，您需要先獲取定義服務的OpenAPI文檔的URL。 您的服務提供商應能夠向您提供此功能，並且通常會有一個以 `/openapi.json`。 完整的URL將類似於 `https://www.example.com/OpenAPI.json`。 獲得此URL後，轉到管理區中的「服務提供商」菜單。

按一下 **下一個** 轉到「輸入服務憑據」部分。

![](assets/flow-step-service-1.png)

## 輸入服務憑據 {#enter-service-credentials}

要訪問正在安裝的服務，Marketo必須具有有效的API憑據。 這些憑據應由服務提供商提供給您。 服務有三個不同的身份驗證選項，因此您可能會看到以下三種憑據提示之一： **API密鑰** 只有一個輸入欄位， **基本身份驗證** 它需要用戶名和密碼，並且可能需要名為Realm的欄位， **OAuth2** 使用 _客戶端憑據_ 格蘭特，這需要 _客戶端ID_ 和 _客戶端密碼_。

>[!NOTE]
>
>OAuth2在3月11日發佈之前不可用。

保存憑據時，Marketo將嘗試調用服務的狀態終結點以驗證這些憑據是否有效。 如果提供的憑據無效，您將看到一個錯誤來指明這一點。

## 入門指南（可選） {#onboarding-guide}

一些服務提供商將包括可選的入門指南步驟。 此步驟將包括完成該服務特定的服務的任何附加說明。

## 欄位映射 {#field-mapping}

為了從特定潛在顧客欄位接收或返回資料，必須映射該欄位。 雖然映射是登錄期間的必需步驟，但您以後可能總是返回以更改映射。 在不同的螢幕中配置了兩種類型的映射： **傳出欄位**，當Marketo調用流步驟時，將其發送到服務， **傳入欄位** 這些欄位在服務返回資料到Marketo時可以從服務接收資料。

>[!NOTE]
>
>通過映射傳出欄位，您將授予Marketo發送與關聯服務處理的銷售線索相關的欄位資料的權限。 確保您具有適當的法律地位和權限將此資料傳輸到服務提供商，因為這些欄位可能包括資料隱私、保護和租賃法律所涵蓋的個人身份資訊。

可以禁用可選欄位映射而不中斷服務，但不能完全刪除或停用所需映射。

## 服務驅動映射 {#service-driven-mappings}

具有固定輸入和輸出集的服務，如事件註冊流步驟，使用 **服務驅動映射**。 對於此類型的映射，服務提供程式將提供API名稱形式的資料類型和提示。 如果提示與現有潛在客戶欄位的API名稱匹配，則該欄位將自動填充到映射部分。 對於沒有匹配提示的欄位，您需要從欄位清單中手動填充具有匹配資料類型的映射。 必須填充所需的映射才能完成登機。

![](assets/flow-step-service-2.png)

## 用戶驅動映射 {#user-driven-mappings}

沒有固定輸入和輸出集的服務（如日期格式服務）使用 **用戶驅動映射**。 這意味著每個傳入和傳出欄位必須由管理員配置。

![](assets/flow-step-service-3.png)

## 傳出欄位 {#outgoing-fields}

傳出欄位是在智慧市場活動中使用流步驟時發送到流步驟服務的欄位。

## 傳入欄位 {#incoming-fields}

傳入欄位是允許流步驟服務將資料寫入的欄位。

## 配置選項（可選） {#configuration-options}

某些服務具有可選或必需的全局配置選項。 如果需要任何選項，則必須為所有必需選項設定值，然後才能保存或完成登機。 其名稱為斜體的參數將作為標頭髮送到調用的服務。

![](assets/flow-step-service-4.png)

## 停用服務 {#retiring-a-service}

為便於過渡到新版本或替代版本的服務，而不中斷活動使用，可以從「服務提供程式」菜單中停用服務。 **停用服務** 從智慧市場活動流調色板中刪除相應的流步驟，以便不能建立其新用途。 在大多數情況下，當您選擇停用服務時，您應準備好替換現有服務。

## 服務棄用 {#service-deprecation}

有時，服務提供商需要將流步驟服務作為軟體生命週期的正常部分而棄用。 當服務提供商宣佈此消息時，「棄用日期」和「消息」將填充到「服務提供商」網格視圖中。 如果繼續使用已棄用的服務不再以預期方式響應，或停止接受Marketo智慧市場活動的請求，則可能會導致服務中斷，因此您應密切注意您收到的任何服務棄用通知，並採取適當步驟從仍在使用的服務中註銷或替換任何步驟。

## 使用第三方和自定義流步驟 {#using-third-party-and-custom-flow-steps}

安裝的流步驟可以與標準流步驟大致相同的方式使用。 服務定義的所有流參數都呈現給最終用戶。

## 刷新選擇清單 {#refreshing-picklists}

Marketo將每晚更新服務的選擇清單，但有時您需要新的選擇，例如建立活動。 使用「刷新」按鈕，或在選擇服務後轉到「管理員」>「服務提供商」菜單並按一下「刷新選擇清單」，即可從流程步驟的任何實例輕鬆刷新這些選項。

## 檢查傳入欄位 {#checking-incoming-fields}

通過將工具提示表徵圖懸停在指定流步驟上，可以檢查為其配置的傳入欄位。 這對於確定潛在顧客在流經時哪些欄位可能更改非常有用，因此您可以使用這些欄位在後續步驟中配置選項。

![](assets/flow-step-service-5.png)

## 傳入欄位和資料值更改 {#incoming-fields-and-data-value-changes}

與大多數其他流步驟不同，使用SSFS框架實現的流步驟可將資料寫回由管理員映射的潛在客戶欄位，並將這些更改記錄為「資料值更改」活動。  當流步驟以此方式寫入資料時，所有這些更改都將在智慧市場活動轉移到任何後續步驟之前完成，因此在後續流步驟選擇中可能會依賴寫入的任何資料。

## 服務日誌和統計 {#service-logs-and-statistics}

每個流步驟服務都有幾種類型的日誌記錄與其關聯，以幫助監控運行狀況並排除與整合相關的任何問題。

## 服務統計 {#service-statistics}

服務統計資訊日誌聚合每個服務的調用和回調結果。 它們按時間、級別（塊或記錄）和代碼分組，並為收到的每個代碼提供計數和最新日誌消息。 此儀表板主要用於幫助監測服務健康。
