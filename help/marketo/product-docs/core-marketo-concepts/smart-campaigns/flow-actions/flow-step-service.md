---
description: 流程步驟服務 — Marketo檔案 — 產品檔案
title: 流程步驟服務
exl-id: 81367562-8b27-4ec5-8a9b-b02083a2e999
source-git-commit: 5d95a77e5c836bf76d82f0db72781727b2743720
workflow-type: tm+mt
source-wordcount: '1243'
ht-degree: 0%

---

# 流程步驟服務 {#flow-step-service}

自助流程步驟是一個架構和一組功能，用於編寫、發佈網站服務，以及將網站服務整合至Adobe Marketo Engage智慧型行銷活動。 本指南適用於Marketo Engage想要安裝和使用已建立和發佈之服務的使用者。 有關編寫和發佈您自己的服務的資訊，請參閱 [服務提供者介面的GitHub存放庫](https://github.com/adobe/Marketo-SSFS-Service-Provider-Interface){target=&quot;_blank&quot;}。 可找到概念驗證查閱表格實作 [此處](https://github.com/adobe/mkto-flow-lookup){target=&quot;_blank&quot;}。

## 入門和管理服務 {#onboarding-and-managing-services}

安裝自訂流程步驟需要Marketo中的管理員權限(**管理Webhook** 在1月21日的版本中，在3月11日的版本中變更)。 除了安裝URL外，在完成初始上線後，可從服務提供商網格向下鑽取到服務詳細資訊螢幕，編輯服務的所有其它方面。

## 安裝URL {#installation-url}

若要開始安裝，您必須先取得定義服務之OpenAPI檔案的URL。 您的服務提供者應能提供此資訊給您，且通常會有結尾為 `/openapi.json`. 完整的URL看起來會像 `https://www.example.com/OpenAPI.json`. 取得此URL後，前往「管理員」區段中的「服務提供者」功能表。

按一下 **下一個** 轉到輸入服務憑據部分。

![](assets/flow-step-service-1.png)

## 輸入服務憑據 {#enter-service-credentials}

若要存取正在安裝的服務，Marketo必須具備有效的API憑證。 服務提供商應向您提供這些憑據。 服務有三個不同的驗證選項，因此您可能會看到三種不同的憑據提示之一： **API金鑰** 只有一個輸入欄位， **基本驗證** 它需要用戶名和密碼，並且可能還需要名為Realm的欄位，以及 **OAuth2** 使用 _客戶端憑據_ 格蘭特，這要求 _用戶端ID_ 和 _用戶端密碼_.

>[!NOTE]
>
>OAuth2要到3月11日發行版本才可用。

儲存憑證時，Marketo會嘗試呼叫服務的狀態端點，以驗證其有效性。 如果提供的憑證無效，您會看到指出此情況的錯誤。

## 入門指南（可選） {#onboarding-guide}

部分服務提供者將提供選用的入門指南步驟。 此步驟將包含完成該服務特定服務上線的任何其他指示。

## 欄位對應 {#field-mapping}

若要接收或傳回來自特定銷售機會欄位的資料，必須對應該欄位。 雖然在上線期間必須進行對應，但您稍後可能一律會返回變更對應。 在不同的畫面中配置了兩種映射： **傳出欄位**，這會在Marketo叫用流程步驟時傳送至服務，以及 **傳入欄位** 這些欄位可在服務傳回資料至Marketo時從服務接收資料。

>[!NOTE]
>
>通過映射傳出欄位，您為Marketo授予了從與關聯服務處理的銷售機會相關的欄位傳輸資料的權限。 請確定您擁有適當的法律地位和權限，可將此資料傳輸給您的服務提供者，因為這些欄位可能包含資料隱私權、保護和租賃法涵蓋的個人識別資訊。

可選欄位映射可以禁用，但不會完全刪除或停用所需映射。

## 服務驅動映射 {#service-driven-mappings}

具有一組固定輸入和輸出的服務（如事件註冊流程步驟），請使用 **服務驅動映射**. 對於此類型的映射，服務提供程式將以API名稱的形式提供資料類型和提示。 如果提示符合現有銷售機會欄位的API名稱，該欄位將自動填入對應區段。 對於沒有匹配提示的欄位，您需要從具有匹配資料類型的欄位清單中手動填充映射。 必須填入所需的對應，才能完成上線。

![](assets/flow-step-service-2.png)

## 使用者導向對應 {#user-driven-mappings}

沒有固定輸入和輸出集的服務（如日期格式服務），請使用 **使用者導向對應**. 這表示每個傳入和傳出欄位都必須由管理員設定。

![](assets/flow-step-service-3.png)

## 傳出欄位 {#outgoing-fields}

傳出欄位是當智慧型行銷活動中使用該流程步驟時，會傳送至「流程步驟服務」的欄位。

## 傳入欄位 {#incoming-fields}

傳入欄位是允許流步驟服務將資料寫入的欄位。

## 配置選項（可選） {#configuration-options}

某些服務具有可選或必需的全局配置選項。 如果需要任何選項，則必須為所有必要選項設定值，才能儲存或完成上線。 其名稱為斜體的參數會以標題的形式傳送至叫用的服務。

![](assets/flow-step-service-4.png)

## 停用服務 {#retiring-a-service}

為了促進服務的新版本或替代版本的轉換，而不會中斷主動使用，服務可從服務提供者功能表中淘汰。 **停用服務** 從「智慧型促銷活動流程盤」中移除對應的流程步驟，因此無法建立其新用途。 在大多數情況下，當您選擇終止服務時，您應準備好更換現有服務。

## 服務淘汰 {#service-deprecation}

有時，服務提供商需要在軟體生命週期的正常部分停止提供流步驟服務。 當服務提供商宣佈此消息時，將在服務提供商網格視圖中填充「淘汰日期」和「消息」。 如果繼續使用已淘汰的服務，如果不再以預期方式回應，或停止接受Marketo Smart Campaigns的請求，可能會導致服務中斷，因此您應密切關注收到的任何服務淘汰通知，並採取適當步驟，淘汰或更換仍在使用的服務中的任何步驟。

## 使用協力廠商和自訂流程步驟 {#using-third-party-and-custom-flow-steps}

安裝的流程步驟與標準流程步驟的使用方式大致相同。 由服務定義的所有流參數都向最終用戶顯示。

## 刷新選擇清單 {#refreshing-picklists}

Marketo會每晚重新整理服務的選擇清單，但有時您會需要新的選擇，例如建立行銷活動。 您可以使用重新整理按鈕，從流程步驟的任何例項輕鬆重新整理這些項目，或在您選取服務後，前往「管理員>服務提供者」功能表並按一下重新整理選擇清單。

## 檢查傳入欄位 {#checking-incoming-fields}

您可以將游標移至工具提示圖示上，以檢查為指定流程步驟設定的傳入欄位。 這對於判斷銷售機會流過時哪些欄位可能變更非常有用，因此您可以使用這些欄位在後續步驟中配置選擇。

![](assets/flow-step-service-5.png)

## 傳入欄位和資料值變更 {#incoming-fields-and-data-value-changes}

與大多數其他流步驟不同，使用SSFS框架實施的步驟可能會將資料寫回由管理員映射的前置欄位，並將這些更改記錄為「資料值更改」活動。  當流程步驟以此方式寫入資料時，所有這些變更都會在智慧型促銷活動繼續執行任何後續步驟之前完成，因此在後續的流程步驟選擇中可能會依賴寫入的任何資料。

## 服務日誌和統計資訊 {#service-logs-and-statistics}

每個流程步驟服務都有數種與其相關聯的記錄類型，以協助監控運作狀況，並疑難排解與整合相關的任何問題。

## 服務統計 {#service-statistics}

服務統計日誌將匯總每個服務的調用和回叫結果。 它們會依時間、層級（區塊或記錄）和程式碼分組，並為每個收到的代碼提供計數和最新的記錄訊息。 此儀表板主要用於幫助監測服務健康。
